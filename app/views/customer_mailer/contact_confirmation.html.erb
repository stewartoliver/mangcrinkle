<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= @subject %></title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      line-height: 1.6;
      color: #292524;
      margin: 0;
      padding: 20px;
      background-color: #f9fafb;
    }
    .email-wrapper {
      max-width: 600px;
      margin: 0 auto;
      background-color: #f9fafb;
    }
    
    /* Admin Container - matching admin design system */
    .admin-container {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
      border: 1px solid #fed7aa;
      overflow: hidden;
    }
    
    .admin-container-header {
      padding: 20px 24px;
      border-bottom: 1px solid #fed7aa;
      background-color: #fff7ed;
    }
    
    .admin-container-title {
      font-size: 20px;
      font-weight: 600;
      color: #7e2a0c;
      margin: 0 0 4px 0;
      line-height: 1.4;
    }
    
    .admin-container-subtitle {
      font-size: 14px;
      color: #ea580c;
      margin: 0;
      font-weight: 400;
    }
    
    .admin-container-content {
      padding: 24px;
    }
    
    .brand-logo {
      font-size: 24px;
      font-weight: 700;
      color: #7e2a0c;
      margin-bottom: 8px;
      text-align: center;
    }
    
    .content-section {
      margin-bottom: 24px;
    }
    
    .content-section p {
      margin: 0 0 16px 0;
      color: #374151;
      line-height: 1.6;
    }
    
    .content-section ul {
      margin: 16px 0;
      padding-left: 20px;
      color: #374151;
    }
    
    .content-section li {
      margin-bottom: 8px;
    }
    
    /* Message Details */
    .message-details {
      background-color: #fff7ed;
      border: 1px solid #fed7aa;
      border-radius: 6px;
      padding: 16px;
      margin: 20px 0;
    }
    
    .message-details-title {
      font-weight: 600;
      color: #7e2a0c;
      margin-bottom: 12px;
      font-size: 16px;
    }
    
    .message-detail-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px solid #fed7aa;
    }
    
    .message-detail-row:last-child {
      border-bottom: none;
    }
    
    .message-detail-label {
      color: #ea580c;
      font-size: 14px;
      font-weight: 500;
    }
    
    .message-detail-value {
      color: #7e2a0c;
      font-weight: 500;
      text-align: right;
    }
    
    .message-content {
      background-color: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 6px;
      padding: 16px;
      margin: 16px 0;
      white-space: pre-wrap;
      color: #374151;
      font-style: italic;
    }
    
    /* Priority Badge */
    .priority-badge {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
      text-transform: uppercase;
      background-color: #dbeafe;
      color: #1d4ed8;
    }
    
    .priority-high {
      background-color: #fee2e2;
      color: #dc2626;
    }
    
    .priority-medium {
      background-color: #fef3c7;
      color: #d97706;
    }
    
    .priority-low {
      background-color: #d1fae5;
      color: #059669;
    }
    
    /* Process Steps */
    .process-steps {
      background-color: #fff7ed;
      border: 1px solid #fed7aa;
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
    }
    
    .process-steps h3 {
      color: #7e2a0c;
      font-size: 18px;
      font-weight: 600;
      margin: 0 0 16px 0;
    }
    
    .process-steps ul {
      margin: 0;
      padding-left: 20px;
    }
    
    .process-steps li {
      margin-bottom: 8px;
      color: #ea580c;
    }
    
    .footer {
      margin-top: 32px;
      padding-top: 20px;
      border-top: 1px solid #e5e7eb;
      font-size: 14px;
      color: #6b7280;
    }
    
    .signature {
      margin-top: 24px;
      font-weight: 500;
      color: #374151;
    }
    
    .signature-name {
      color: #7e2a0c;
      font-weight: 600;
    }
  </style>
</head>
<body>
  <div class="email-wrapper">
    <div class="admin-container">
      <div class="admin-container-header">
        <div class="brand-logo">Mang Crinkle</div>
        <h1 class="admin-container-title">Message Received</h1>
        <p class="admin-container-subtitle">We'll be in touch soon, <%= @customer_name %>!</p>
      </div>

      <div class="admin-container-content">
        <div class="content-section">
          <p>Hello <%= @customer_name %>,</p>
          
          <% if @body %>
            <p><%= simple_format(@body) %></p>
          <% else %>
            <p>Thank you for contacting us! We've received your message and wanted to confirm that it's safely in our inbox.</p>
          <% end %>
          
          <div class="message-details">
            <div class="message-details-title">Message Details</div>
            
            <div class="message-detail-row">
              <span class="message-detail-label">Subject:</span>
              <span class="message-detail-value"><%= @contact_message.subject %></span>
            </div>
            
            <div class="message-detail-row">
              <span class="message-detail-label">Priority:</span>
              <span class="message-detail-value">
                <span class="priority-badge priority-<%= @contact_message.priority %>"><%= @contact_message.priority.humanize %></span>
              </span>
            </div>
            
            <div class="message-detail-row">
              <span class="message-detail-label">Received:</span>
              <span class="message-detail-value"><%= @contact_message.created_at.strftime("%B %d, %Y at %I:%M %p") %></span>
            </div>
          </div>
          
          <% if @contact_message.message.present? %>
            <div class="content-section">
              <h3 style="color: #7e2a0c; margin-bottom: 12px; font-size: 16px; font-weight: 600;">Your Message:</h3>
              <div class="message-content"><%= @contact_message.message %></div>
            </div>
          <% end %>
          
          <div class="process-steps">
            <h3>What happens next?</h3>
            <ul>
              <li>Our team has been notified and will review your message</li>
              <li>We typically respond within 24 hours during business days</li>
              <li>High priority messages are handled even faster</li>
              <li>You'll receive a personal response from our team</li>
            </ul>
          </div>
          
          <div class="content-section">
            <p>We really appreciate you taking the time to contact us. Whether you have questions about our delicious crinkle cookies, need help with an order, or just want to share some feedback, we're here to help!</p>
          </div>
        </div>

        <div class="footer">
          <p>This confirmation was sent to: <%= @user.email %></p>
          <p>Need urgent assistance? Reply to this email or contact us at <%= company_email %></p>
          
          <div class="signature">
            <p>With love and fresh-baked goodness,<br>
            <span class="signature-name">The Mang Crinkle Team</span></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html> 