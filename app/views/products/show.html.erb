<!-- Product Header -->
<div class="bg-orange-200 text-orange-950 py-12">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <h1 class="text-4xl font-extrabold tracking-tight text-center"><%= @product.name %></h1>
  </div>
</div>

<!-- Product Details -->
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
  <div class="lg:grid lg:grid-cols-4 lg:gap-6">
    <!-- Main Product Container -->
    <div class="bg-white rounded-lg shadow-md overflow-hidden border border-orange-200 mb-8 lg:mb-0 lg:col-span-3 lg:h-96">
      <div class="md:flex h-full">
        <!-- Product Image -->
        <div class="md:w-1/2 h-64 md:h-full">
          <% if @product.image.present? %>
            <%= image_tag @product.image, class: "w-full h-full object-cover object-center" %>
          <% else %>
            <div class="w-full h-full bg-orange-100"></div>
          <% end %>
        </div>
        
        <!-- Product Info -->
        <div class="p-8 md:w-1/2 flex flex-col h-full">
          <div class="mb-6 flex-grow">
            <h2 class="text-2xl font-bold text-orange-950 mb-4"><%= @product.name %></h2>
            <p class="text-orange-700"><%= @product.description %></p>
          </div>
          
          <div class="mb-6">
            <span class="text-3xl font-bold text-orange-950">$<%= number_with_precision(@product.price, precision: 2) %></span>
          </div>
          
          <%= form_with url: new_order_path, method: :get, class: "flex items-end gap-4" do |f| %>
            <%= f.hidden_field :product_id, value: @product.id %>
            <div>
              <%= f.label :quantity, class: "block text-sm font-medium text-orange-600 mb-1" %>
              <%= f.number_field :quantity, min: 1, value: 1, class: "w-20 px-3 py-2 border border-orange-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 bg-white text-orange-950" %>
            </div>
            
            <%= f.submit "Add to Order", class: "inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition duration-150" %>
          <% end %>
        </div>
      </div>
    </div>

    <!-- Nutrition & Ingredients Container -->
    <div class="bg-white rounded-lg shadow-md overflow-hidden border border-orange-200 lg:col-span-1 lg:h-96">
      <div class="p-4 h-full flex flex-col">
        <!-- Tab Headers -->
        <div class="flex border-b border-orange-200 mb-4">
          <div class="relative group flex-1">
            <button class="w-full py-2 px-2 text-xs font-medium text-orange-950 bg-orange-50 border-b-2 border-orange-600 opacity-50 cursor-not-allowed focus:outline-none" disabled>
              <span class="block">Nutrition</span>
              <span class="block text-xs text-orange-500 md:hidden">Coming Soon</span>
            </button>
            <div class="absolute left-1/2 transform -translate-x-1/2 top-full mt-2 w-48 bg-gray-900 text-white text-xs rounded-lg p-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 hidden md:block">
              <div class="flex items-start">
                <svg class="h-4 w-4 text-yellow-400 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <div>
                  <p class="font-medium whitespace-nowrap">In Development</p>
                  <p class="mt-1">Nutrition information will be available soon!</p>
                </div>
              </div>
            </div>
          </div>
          <div class="relative group flex-1">
            <button class="w-full py-2 px-2 text-xs font-medium text-orange-600 opacity-50 cursor-not-allowed focus:outline-none" disabled>
              <span class="block">Ingredients</span>
              <span class="block text-xs text-orange-500 md:hidden">Coming Soon</span>
            </button>
            <div class="absolute left-1/2 transform -translate-x-1/2 top-full mt-2 w-48 bg-gray-900 text-white text-xs rounded-lg p-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 hidden md:block">
              <div class="flex items-start">
                <svg class="h-4 w-4 text-yellow-400 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <div>
                  <p class="font-medium whitespace-nowrap">In Development</p>
                  <p class="mt-1">Ingredients list will be available soon!</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Nutrition Content (Static Mockup) -->
        <div class="nutrition-content flex-1 flex items-center justify-center">
          <div class="bg-white border-2 border-orange-950 rounded-lg overflow-hidden w-full max-w-xs opacity-60">
            <div class="bg-orange-950 text-orange-100 px-2 py-1">
              <h4 class="font-bold text-xs text-center">Nutrition Facts</h4>
            </div>
            <div class="p-2">
              <div class="border-b-2 border-orange-950 pb-1 mb-1">
                <div class="text-xs text-orange-700">Serving Size: 1 cookie (••g)</div>
              </div>
              
              <!-- Calories -->
              <div class="border-b-2 border-orange-950 pb-1 mb-1">
                <div class="flex justify-between items-end">
                  <span class="text-sm font-bold text-orange-950">Calories</span>
                  <span class="text-sm font-bold text-orange-950">•••</span>
                </div>
              </div>
              
              <!-- Daily Value Header -->
              <div class="text-right text-xs text-orange-600 mb-1">% Daily Value*</div>
              
              <table class="w-full text-xs">
                <tbody>
                  <tr class="border-b border-orange-200">
                    <td class="py-0.5 text-orange-950 font-bold">Total Fat</td>
                    <td class="py-0.5 text-right text-orange-700">••g</td>
                    <td class="py-0.5 text-right text-orange-600 w-6">••%</td>
                  </tr>
                  <tr class="border-b border-orange-200">
                    <td class="py-0.5 pl-1 text-orange-700">Sat. Fat</td>
                    <td class="py-0.5 text-right text-orange-700">••g</td>
                    <td class="py-0.5 text-right text-orange-600 w-6">••%</td>
                  </tr>
                  <tr class="border-b border-orange-200">
                    <td class="py-0.5 text-orange-950 font-bold">Sodium</td>
                    <td class="py-0.5 text-right text-orange-700">••mg</td>
                    <td class="py-0.5 text-right text-orange-600 w-6">••%</td>
                  </tr>
                  <tr class="border-b border-orange-200">
                    <td class="py-0.5 text-orange-950 font-bold">Total Carbs</td>
                    <td class="py-0.5 text-right text-orange-700">••g</td>
                    <td class="py-0.5 text-right text-orange-600 w-6">••%</td>
                  </tr>
                  <tr class="border-b border-orange-200">
                    <td class="py-0.5 pl-1 text-orange-700">Sugars</td>
                    <td class="py-0.5 text-right text-orange-700">••g</td>
                    <td class="py-0.5 text-right"></td>
                  </tr>
                  <tr>
                    <td class="py-0.5 text-orange-950 font-bold">Protein</td>
                    <td class="py-0.5 text-right text-orange-700">••g</td>
                    <td class="py-0.5 text-right"></td>
                  </tr>
                </tbody>
              </table>
              
              <!-- Footer -->
              <div class="mt-1 text-xs text-orange-600">
                <p>*% Daily Value based on 2000 calorie diet.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Browse Other Products CTA -->
<div class="bg-orange-200 text-orange-950">
  <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8">
    <div class="lg:grid lg:grid-cols-2 lg:gap-8 items-center">
      <div>
        <h2 class="text-3xl font-extrabold tracking-tight sm:text-4xl">
          Explore our other crinkle flavors
        </h2>
        <p class="mt-4 text-lg">
          Discover more handcrafted Filipino-style crinkle cookies, each with its own unique story and flavor profile.
        </p>
      </div>
      <div class="mt-8 lg:mt-0">
        <div class="flex flex-col sm:flex-row gap-4">
          <%= link_to "Browse All Crinkles", "#{products_path}#crinkles", class: "inline-block bg-orange-950 text-orange-200 px-8 py-3 rounded-md font-semibold hover:bg-orange-900 transition duration-150" %>
          <%= link_to "All Products", products_path, class: "inline-block border-2 border-orange-950 text-orange-950 px-8 py-3 rounded-md font-semibold hover:bg-orange-950 hover:text-orange-200 transition duration-150" %>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const nutritionTab = document.querySelector('.nutrition-tab');
  const ingredientsTab = document.querySelector('.ingredients-tab');
  
  function showDevelopmentMessage() {
    alert('This feature is still in development. Full nutrition and ingredients information will be available soon!');
  }
  
  nutritionTab.addEventListener('click', showDevelopmentMessage);
  ingredientsTab.addEventListener('click', showDevelopmentMessage);
});
</script> 